<!DOCTYPE html>
<html lang="en-us">
<head>

    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="theme" content="hugo-tachyons">
    <meta name="generator" content="Hugo 0.55.6" />
    <meta name="author" content="smalalur-gh">

    
    <link
href="https://fonts.googleapis.com/css?family=Space+Mono|Cutive+Mono" rel="stylesheet">

    
    <link rel="stylesheet" href="localhost:1313css/normalize.css">
    <link rel="stylesheet" href="localhost:1313css/tachyons.min.css">
    

    
    
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/styles/github.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    

    
    <link rel="shortcut icon" href="localhost:1313img/favicon.ico" type="image/x-icon">
    <link rel="canonical" href="#ZgotmplZ">

    <title>Guide to Kaggle API | SM</title>

    
    <style>
        body {
	  font-family: 'Avenir Next';
	  background: #F4F4F4;
	}
	code {
	  font-family: 'Cutive Mono','Space Mono';
	  font-size: 1.25rem;
	  line-height: 1.25;
	}
	blockquote {
	  padding-left: 2rem;
	  border-left-style: solid;
	  border-left-width: 1px;
	  border-width: .25rem;
	  border-color: #AAAAAA;
	  color: #777777;
	}
	h1, h2, h3, h4, h5, h6 {
		font-weight: 500;
	}
    </style>

</head>


    <body class="relative min-vh-100 pb6">
    
    <header class="pv3 pv4-ns tc">

    <a class="link f2 f1-ns black-90 db" href="localhost:1313">Sanjeev Malalur, PhD</a>


</header>


    


<nav class="tc">

<a href="localhost:1313/publications/" class="link light-silver db dib-ns mh3 pa2 f5 fw4 ttu tracked hover-near-black">Publications</a>

<a href="localhost:1313/resume/" class="link light-silver db dib-ns mh3 pa2 f5 fw4 ttu tracked hover-near-black">Resume</a>

<a href="localhost:1313/humanifesto/" class="link light-silver db dib-ns mh3 pa2 f5 fw4 ttu tracked hover-near-black">(hu)manifesto</a>

<a href="localhost:1313/posts/" class="link light-silver db dib-ns mh3 pa2 f5 fw4 ttu tracked hover-near-black">Posts</a>

</nav>


        <article class="mw7 center pa3 pa4-ns">
	    <h1 class="f1 f-3-ns fw5 mt0 mb2 pb2 black-90">Guide to Kaggle API</h1>
	    <div class="db gray">
	      <time class="dib pr3 ttu">01 Jan 0001</time>
	      <p class="dib pr3 ttu">699 words</p>
	      <p class="dib pr3">(~4 min read)</p> 
	    </div>
	    <div class="f5 bb lh-title black-90">
	    <div class="document">


<p>A quick guide to install and use the official Kaggle API, mostly for personal reference.</p>
<div class="section" id="installation">
<h2>Installation</h2>
<p>Get the <a class="reference external" href="https://github.com/Kaggle/kaggle-api">official Kaggle API</a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Kaggle API does not work with Python 2. Only Python 3 is supported.</p>
</div>
<p>A recommended first step is to create a separate virtual environment using the desired environment management tool. In Conda, <cite>conda create -n kaggle</cite> does the job. Next, activate the virtual environment. Again, in Conda, <cite>conda activte kaggle</cite> will get this done. Next, decision time - to <cite>conda</cite> or <cite>pip</cite>? Whenever possible I prefer to <cite>conda install</cite> packages. So, <cite>conda install kaggle -c conda-forge</cite> will get <cite>kaggle</cite> installed.</p>
<p>Use <cite>kaggle --version</cite> to verify the installation succeeded.</p>
</div>
<div class="section" id="usage">
<h2>Usage</h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Before using the Kaggle API, be sure to obtain the required API credentials by,</p>
<ol class="last arabic simple">
<li>Creating an account on the Kaggle site</li>
<li>Navigate to Account and select 'Create API Token'</li>
<li>Save the resulting <cite>kaggle.json</cite> file to the directory <cite>~/.kaggle</cite> (on *nix)</li>
<li>For Windows specific instructions or for to use environment variable to setup Kaggle credentials (no local file needed) <a class="reference external" href="https://github.com/Kaggle/kaggle-api#api-credentials">see here</a></li>
<li>To avoid the <cite>Warning: Your Kaggle API key is readable by other users on this system!</cite> message (ack!), perform a <cite>chmod 600 ~/.kaggle/kaggle.json</cite>, which is also included as a part of the warning message, like a good warning message should.</li>
</ol>
</div>
<p>Assuming the Kaggle API credentials are in place, you are now ready to start using the command line tool. While listing and general <em>browsing</em> of competitions and files are okay, any meaningful interaction requires you to have accepted the competition rules and regulations, which unfortunately can <strong>only</strong> be done via a browser.</p>
<p><strong>Listing Competitions</strong></p>
<pre class="code bash literal-block">
~ &gt;&gt;kaggle competitions list
ref                                            deadline             category            reward  teamCount  userHasEntered
---------------------------------------------  -------------------  ---------------  ---------  ---------  --------------
digit-recognizer                               2030-01-01 00:00:00  Getting Started  Knowledge       2486           False
titanic                                        2030-01-01 00:00:00  Getting Started  Knowledge      13429            True
house-prices-advanced-regression-techniques    2030-01-01 00:00:00  Getting Started  Knowledge       4917            True
imagenet-object-localization-challenge         2029-12-31 07:00:00  Research         Knowledge         56           False
tensorflow2-question-answering                 2020-01-22 23:59:00  Featured           $50,000        177           False
data-science-bowl-2019                         2020-01-22 23:59:00  Featured          $160,000        386           False
pku-autonomous-driving                         2020-01-21 23:59:00  Featured           $25,000        102           False
competitive-data-science-predict-future-sales  2019-12-31 23:59:00  Playground           Kudos       4658           False
</pre>
<p>The Kaggle API provides 4 main commands, each with several sub-commands.</p>
<ul class="simple">
<li>competitions (c)</li>
<li>datasets (d)</li>
<li>kernels (k)</li>
<li>config</li>
</ul>
<p>It can get tedious to type the lengthy commands, along with the sub-commands and options. Kaggle API provides simple <em>shorthands</em> for three of the main commands that I highly recommend using.</p>
<p><strong>Download Competition Files</strong></p>
<p>As an example, let's look at the <a class="reference external" href="https://www.kaggle.com/c/ashrae-energy-prediction/overview">ASHRAE - Great Energy Predictor III</a> competition.</p>
<pre class="code bash literal-block">
~ &gt;&gt;kaggle c list -s ashrae
ref                       deadline             category   reward  teamCount  userHasEntered
------------------------  -------------------  --------  -------  ---------  --------------
ashrae-energy-prediction  2019-12-19 23:59:00  Featured  $25,000       1376    True

~ &gt;&gt;kaggle c files ashrae-energy-prediction
name                    size  creationDate
---------------------  -----  -------------------
test.csv                 1GB  2019-10-10 17:13:34
weather_test.csv        14MB  2019-10-10 17:13:34
train.csv              647MB  2019-10-10 17:13:34
weather_train.csv        7MB  2019-10-10 17:13:34
sample_submission.csv  427MB  2019-10-10 17:13:34
building_metadata.csv   44KB  2019-10-10 17:13:34

~ &gt;&gt;kaggle c download ashrae-energy-prediction
~ &gt;&gt;ls
ashrae-energy-prediction.zip
~ &gt;&gt;unzip ashrae-energy-prediction.zip
Archive:  ashrae-energy-prediction.zip
  inflating: building_metadata.csv
  inflating: sample_submission.csv
  inflating: test.csv
  inflating: train.csv
  inflating: weather_test.csv
  inflating: weather_train.csv
</pre>
<p>The downloaded files include a <cite>sample_submission.csv</cite> file. Let's try submitting that file, as is, as our first entry (cause why not?!). Since the inclued sample submission file is a large file, it's better to compress it first (Kaggle API supports zipped/archived file format for submission).</p>
<pre class="code bash literal-block">
~ &gt;&gt;zip sample_submission sample_submission.csv
~ &gt;&gt;kaggle c submit -f sample_submission.csv -c
  adding: sample_submission.csv (deflated 79%)
~ &gt;&gt;kaggle c submit ashrae-energy-prediction -f sample_submission.zip -m &quot;Testing Kaggle API submission with dummy file&quot;
100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 89.1M/89.1M [02:42&lt;00:00, 573kB/s]
Successfully submitted to ASHRAE - Great Energy Predictor III%
</pre>
<p>Let's check our latest submission.</p>
<pre class="code bash literal-block">
~ &gt;&gt;kaggle c submissions -c ashrae-energy-prediction
fileName               date                 description                                    status    publicScore  privateScore
---------------------  -------------------  ---------------------------------------------  --------  -----------  ------------
sample_submission.zip  2019-10-31 16:43:41  Testing Kaggle API submission with dummy file  complete  4.69         None
</pre>
<p>How did we do? Let's check the leaderboard for what the top scores are.</p>
<pre class="code bash literal-block">
~ &gt;&gt;kaggle c leaderboard ashrae-energy-prediction -s
teamId  teamName                 submissionDate       score
-------  -----------------------  -------------------  -----
3799768  STL                      2019-10-31 17:15:02  1.07
3800952  FabienDaniel             2019-10-29 21:17:25  1.07
3796602  eagle4                   2019-10-31 17:44:23  1.07
3801546  Oleg Knaub               2019-10-31 15:01:36  1.08
3795818  Vicens Gaitan            2019-10-31 09:42:05  1.08
</pre>
<p>In addition the Kaggle API supports browsing, downloading, creating <a class="reference external" href="https://github.com/Kaggle/kaggle-api#datasets">datasets</a>, browsing, pushing and pulling <a class="reference external" href="https://github.com/Kaggle/kaggle-api#kernels">kernels</a> and API <a class="reference external" href="https://github.com/Kaggle/kaggle-api#config">configuration</a> that makes it easy to use from the command line.</p>
</div>
</div>
	    </div>
            <div class="pv3">
            
	      <nav class="">
	       <a class="f5 f3-ns fw5 db link dim mid-gray dib" href="localhost:1313/tags/">Tags: </a> 
              
                <a class="f5 f4-ns mr2 link white-90 dim dib pa1 br-pill ba bg-black-90" href="localhost:1313/tags/kaggle">Kaggle</a> 
              
                <a class="f5 f4-ns mr2 link white-90 dim dib pa1 br-pill ba bg-black-90" href="localhost:1313/tags/cli">CLI</a> 
              
              </nav>
	    </div>
	</article>
    <script src="localhost:1313/js/fitter-happier-text.js"></script>
  <script>
    var nodes = document.querySelectorAll('[data-fitter-happier-text]');
    fitterHappierText(nodes, { baseline: 16 });
  </script>
  <script type="text/javascript">
    WebFontConfig = { google: { families: [ 'Source+Code+Pro::latin' ] } };
    (function() {
      var wf = document.createElement('script');
      wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
      '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
      wf.type = 'text/javascript';
      wf.async = 'true';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(wf, s);
    })();
  </script>



    

<footer class="pa3 h-15 tc absolute bottom-0 w-100">
  <a class="link near-black hover-silver dib h2 w2 mr3" href="https://github.com/smalalur-gh" title="GitHub">
	  <svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M8 0C3.58 0 0 3.582 0 8c0 3.535 2.292 6.533 5.47 7.59.4.075.547-.172.547-.385 0-.19-.007-.693-.01-1.36-2.226.483-2.695-1.073-2.695-1.073-.364-.924-.89-1.17-.89-1.17-.725-.496.056-.486.056-.486.803.056 1.225.824 1.225.824.714 1.223 1.873.87 2.33.665.072-.517.278-.87.507-1.07-1.777-.2-3.644-.888-3.644-3.953 0-.873.31-1.587.823-2.147-.083-.202-.358-1.015.077-2.117 0 0 .672-.215 2.2.82.638-.178 1.323-.266 2.003-.27.68.004 1.364.092 2.003.27 1.527-1.035 2.198-.82 2.198-.82.437 1.102.163 1.915.08 2.117.513.56.823 1.274.823 2.147 0 3.073-1.87 3.75-3.653 3.947.287.246.543.735.543 1.48 0 1.07-.01 1.933-.01 2.195 0 .215.144.463.55.385C13.71 14.53 16 11.534 16 8c0-4.418-3.582-8-8-8"></path></svg>
  </a>
  <a class="link hover-silver near-black dib h2 w2 mr3" href="https://twitter.com/goopyflux" title="Twitter">
    <svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M16 3.038c-.59.26-1.22.437-1.885.517.677-.407 1.198-1.05 1.443-1.816-.634.375-1.337.648-2.085.795-.598-.638-1.45-1.036-2.396-1.036-1.812 0-3.282 1.468-3.282 3.28 0 .258.03.51.085.75C5.152 5.39 2.733 4.084 1.114 2.1.83 2.583.67 3.147.67 3.75c0 1.14.58 2.143 1.46 2.732-.538-.017-1.045-.165-1.487-.41v.04c0 1.59 1.13 2.918 2.633 3.22-.276.074-.566.114-.865.114-.21 0-.416-.02-.617-.058.418 1.304 1.63 2.253 3.067 2.28-1.124.88-2.54 1.404-4.077 1.404-.265 0-.526-.015-.783-.045 1.453.93 3.178 1.474 5.032 1.474 6.038 0 9.34-5 9.34-9.338 0-.143-.004-.284-.01-.425.64-.463 1.198-1.04 1.638-1.7z" fill-rule="nonzero"/></svg>
  </a>
  <small class="mt3 f6 db tc black-90 fw5">Built by Me, standing on the shoulders of the Open Source Software giants</small>
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</footer>


    </body>
</html>

